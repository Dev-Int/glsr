{% extends "base.html.twig" %}

{% block title %}
    {{ 'menu.material'|trans }} - {{ parent() }}
{% endblock %}

{% block body_title %}
    <i class="fa fa-pie-chart"></i>
    {{ 'menu.material'|trans }} - <small>{{ "%06d"|format(material.id) }}</small>
{% endblock %}

{% block glstock_body %}
    <table class="table table-hover table-bordered record_properties">
        <tbody>
            <tr>
                <th scope="row">{{ 'gestock.name'|trans }}</th>
                <td>{{ material.name }}</td>
            </tr>
            <tr>
                <th scope="row">{{ 'gestock.settings.diverse.unitworking'|trans }}</th>
                <td>{{ material.unitWorking }}</td>
            </tr>
            <tr>
                <th scope="row">{{ 'title'|trans({}, 'gs_articles') }}</th>
                <td>
                    {% for article in material.articles.values %}
                        {% if loop.last %}
                            <a href="{{ path('article_show', {slug: article.slug}) }}">{{ article.name }}</a>
                        {% else %}
                            <a href="{{ path('article_show', {slug: article.slug}) }}">{{ article.name }}</a> | 
                        {% endif %}
                    {% endfor %}
                </td>
            </tr>
        </tbody>
    </table>

    {{ form_start(delete_form) }}
        {{ form_widget(delete_form) }}

        <div class="btn-group record_actions">
            {% include 'homeButton.html.twig' %}
            <a class="btn btn-info btn-list" href="{{ path('material') }}">
                {{ 'gestock.return_list'|trans }}
            </a>

            <a class="btn btn-primary btn-edit" href="{{ path('material_edit', {slug: material.slug}) }}">
                {{ 'Edit'|trans({}, 'admin') }}
            </a>
            <button class="btn btn-danger btn-delete" type="submit">
                {{ 'Delete'|trans({}, 'admin') }}
            </button>

        </div>

        <input name="modal" type="hidden" value="0">
    {{ form_end(delete_form) }}

    {% include 'deleteForm.html.twig' %}
{% endblock %}
